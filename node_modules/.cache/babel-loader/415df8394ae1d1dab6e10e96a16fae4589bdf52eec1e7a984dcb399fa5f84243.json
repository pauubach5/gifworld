{"ast":null,"code":"import { useSyncExternalStore, useEvent } from \"./react-deps.js\";\n\n/*\n * Transforms `path` into its relative `base` version\n * If base isn't part of the path provided returns absolute path e.g. `~/app`\n */\nvar relativePath = function relativePath() {\n  var base = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : location.pathname;\n  return !path.toLowerCase().indexOf(base.toLowerCase()) ? path.slice(base.length) || \"/\" : \"~\" + path;\n};\nvar absolutePath = function absolutePath(to) {\n  var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  return to[0] === \"~\" ? to.slice(1) : base + to;\n};\n\n/**\n * History API docs @see https://developer.mozilla.org/en-US/docs/Web/API/History\n */\nvar eventPopstate = \"popstate\";\nvar eventPushState = \"pushState\";\nvar eventReplaceState = \"replaceState\";\nvar eventHashchange = \"hashchange\";\nexport var events = [eventPopstate, eventPushState, eventReplaceState, eventHashchange];\nvar subscribeToLocationUpdates = function subscribeToLocationUpdates(callback) {\n  for (var _i = 0, _events = events; _i < _events.length; _i++) {\n    var event = _events[_i];\n    addEventListener(event, callback);\n  }\n  return function () {\n    for (var _i2 = 0, _events2 = events; _i2 < _events2.length; _i2++) {\n      var _event = _events2[_i2];\n      removeEventListener(_event, callback);\n    }\n  };\n};\nexport var useLocationProperty = function useLocationProperty(fn) {\n  return useSyncExternalStore(subscribeToLocationUpdates, fn);\n};\nvar currentSearch = function currentSearch() {\n  return location.search;\n};\nexport var useSearch = function useSearch() {\n  return useLocationProperty(currentSearch);\n};\nvar currentPathname = function currentPathname() {\n  return location.pathname;\n};\nexport var usePathname = function usePathname() {\n  return useLocationProperty(currentPathname);\n};\nexport var navigate = function navigate(to) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    _ref$replace = _ref.replace,\n    replace = _ref$replace === void 0 ? false : _ref$replace;\n  return history[replace ? eventReplaceState : eventPushState](null, \"\", to);\n};\n\n// the 2nd argument of the `useLocation` return value is a function\n// that allows to perform a navigation.\n//\n// the function reference should stay the same between re-renders, so that\n// it can be passed down as an element prop without any performance concerns.\n// (This is achieved via `useEvent`.)\nexport default (function () {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return [relativePath(opts.base, usePathname()), useEvent(function (to, navOpts) {\n    return navigate(absolutePath(to, opts.base), navOpts);\n  })];\n});\n\n// While History API does have `popstate` event, the only\n// proper way to listen to changes via `push/replaceState`\n// is to monkey-patch these methods.\n//\n// See https://stackoverflow.com/a/4585031\nif (typeof history !== \"undefined\") {\n  var _loop = function _loop() {\n    var type = _arr[_i3];\n    var original = history[type];\n    // TODO: we should be using unstable_batchedUpdates to avoid multiple re-renders,\n    // however that will require an additional peer dependency on react-dom.\n    // See: https://github.com/reactwg/react-18/discussions/86#discussioncomment-1567149\n    history[type] = function () {\n      var result = original.apply(this, arguments);\n      var event = new Event(type);\n      event.arguments = arguments;\n      dispatchEvent(event);\n      return result;\n    };\n  };\n  for (var _i3 = 0, _arr = [eventPushState, eventReplaceState]; _i3 < _arr.length; _i3++) {\n    _loop();\n  }\n}","map":{"version":3,"names":["useSyncExternalStore","useEvent","relativePath","base","arguments","length","undefined","path","location","pathname","toLowerCase","indexOf","slice","absolutePath","to","eventPopstate","eventPushState","eventReplaceState","eventHashchange","events","subscribeToLocationUpdates","callback","_i","_events","event","addEventListener","_i2","_events2","removeEventListener","useLocationProperty","fn","currentSearch","search","useSearch","currentPathname","usePathname","navigate","_ref","_ref$replace","replace","history","opts","navOpts","_loop","type","_arr","_i3","original","result","apply","Event","dispatchEvent"],"sources":["/home/pauubach/Projects/react-basico-midudev/gifworld/node_modules/wouter/use-location.js"],"sourcesContent":["import { useSyncExternalStore, useEvent } from \"./react-deps.js\";\n\n/*\n * Transforms `path` into its relative `base` version\n * If base isn't part of the path provided returns absolute path e.g. `~/app`\n */\nconst relativePath = (base = \"\", path = location.pathname) =>\n  !path.toLowerCase().indexOf(base.toLowerCase())\n    ? path.slice(base.length) || \"/\"\n    : \"~\" + path;\n\nconst absolutePath = (to, base = \"\") =>\n  to[0] === \"~\" ? to.slice(1) : base + to;\n\n/**\n * History API docs @see https://developer.mozilla.org/en-US/docs/Web/API/History\n */\nconst eventPopstate = \"popstate\";\nconst eventPushState = \"pushState\";\nconst eventReplaceState = \"replaceState\";\nconst eventHashchange = \"hashchange\";\nexport const events = [\n  eventPopstate,\n  eventPushState,\n  eventReplaceState,\n  eventHashchange,\n];\n\nconst subscribeToLocationUpdates = (callback) => {\n  for (const event of events) {\n    addEventListener(event, callback);\n  }\n  return () => {\n    for (const event of events) {\n      removeEventListener(event, callback);\n    }\n  };\n};\n\nexport const useLocationProperty = (fn) =>\n  useSyncExternalStore(subscribeToLocationUpdates, fn);\n\nconst currentSearch = () => location.search;\nexport const useSearch = () => useLocationProperty(currentSearch);\n\nconst currentPathname = () => location.pathname;\nexport const usePathname = () => useLocationProperty(currentPathname);\n\nexport const navigate = (to, { replace = false } = {}) =>\n  history[replace ? eventReplaceState : eventPushState](null, \"\", to);\n\n// the 2nd argument of the `useLocation` return value is a function\n// that allows to perform a navigation.\n//\n// the function reference should stay the same between re-renders, so that\n// it can be passed down as an element prop without any performance concerns.\n// (This is achieved via `useEvent`.)\nexport default (opts = {}) => [\n  relativePath(opts.base, usePathname()),\n  useEvent((to, navOpts) => navigate(absolutePath(to, opts.base), navOpts)),\n];\n\n// While History API does have `popstate` event, the only\n// proper way to listen to changes via `push/replaceState`\n// is to monkey-patch these methods.\n//\n// See https://stackoverflow.com/a/4585031\nif (typeof history !== \"undefined\") {\n  for (const type of [eventPushState, eventReplaceState]) {\n    const original = history[type];\n    // TODO: we should be using unstable_batchedUpdates to avoid multiple re-renders,\n    // however that will require an additional peer dependency on react-dom.\n    // See: https://github.com/reactwg/react-18/discussions/86#discussioncomment-1567149\n    history[type] = function () {\n      const result = original.apply(this, arguments);\n      const event = new Event(type);\n      event.arguments = arguments;\n\n      dispatchEvent(event);\n      return result;\n    };\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}